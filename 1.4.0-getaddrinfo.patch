--- origsrc/loudmouth-1.4.0/loudmouth/asyncns.h	2008-02-24 15:41:25.000000000 -0600
+++ src/loudmouth-1.4.0/loudmouth/asyncns.h	2008-06-15 16:09:04.015625000 -0500
@@ -25,6 +25,9 @@
 #include <sys/types.h>
 #include <sys/socket.h>
 #include <netdb.h>
+#ifdef __CYGWIN__
+#include <getaddrinfo.h>
+#endif
 
 /** \mainpage
  *
--- origsrc/loudmouth-1.4.0/loudmouth/lm-internals.h	2008-02-24 15:41:25.000000000 -0600
+++ src/loudmouth-1.4.0/loudmouth/lm-internals.h	2008-06-15 16:09:04.015625000 -0500
@@ -33,6 +33,10 @@
 #include "lm-sock.h"
 #include "lm-socket.h"
 
+#ifdef __CYGWIN__
+#include <getaddrinfo.h>
+#endif
+
 #ifndef G_OS_WIN32
 typedef int LmSocketT;
 #else  /* G_OS_WIN32 */
--- origsrc/loudmouth-1.4.0/loudmouth/lm-sock.c	2008-02-25 17:11:08.000000000 -0600
+++ src/loudmouth-1.4.0/loudmouth/lm-sock.c	2008-06-15 16:09:04.031250000 -0500
@@ -350,9 +350,11 @@
 			
 			sock_addr = & (((struct sockaddr_in *) &addr_info)->sin_addr);
 			break;
+#ifdef AF_INET6
 		case AF_INET6:
 			sock_addr = & (((struct sockaddr_in6 *) &addr_info)->sin6_addr);
 			break;
+#endif
 		default:
 			return NULL;
 	}
